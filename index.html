<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Totem Chat – 12 Avatar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="header">
        <div class="header-left">
          <div class="brand"></div>
        </div>
        <div class="assistant-hero">
          <div id="avatarCircle" class="avatar-circle" aria-hidden="true">ML</div>
          <div id="avatarVideoContainer" class="avatar-video-container" style="display:none" aria-hidden="true">
            <video id="avatarVideo" class="avatar-video-el" playsinline muted></video>
          </div>
          <div class="assistant-info">
            <div id="avatarName" class="assistant-title">DoReMilla Campanella</div>
            <div class="assistant-status"><span class="status-dot"></span> Pronta ad aiutarti</div>
          </div>
        </div>
        <div class="header-right"></div>
        <!-- Overlay neve che cade -->
        <div class="snow" aria-hidden="true">
          <span class="flake"></span><span class="flake"></span><span class="flake"></span><span class="flake"></span>
          <span class="flake"></span><span class="flake"></span><span class="flake"></span><span class="flake"></span>
          <span class="flake"></span><span class="flake"></span><span class="flake"></span><span class="flake"></span>
          <span class="flake"></span><span class="flake"></span><span class="flake"></span><span class="flake"></span>
          <span class="flake"></span><span class="flake"></span><span class="flake"></span><span class="flake"></span>
        </div>
      </header>

      <main class="chat" role="log" aria-live="polite">
        <div id="messages" class="messages"></div>
        <div id="typing" class="typing" aria-hidden="true" style="display:none">
          <div class="typing-bubble">
            <span class="dot"></span><span class="dot"></span><span class="dot"></span>
          </div>
        </div>
      </main>

      <footer class="input-area">
        <form id="chatForm" class="form" autocomplete="off">
          <input
            id="userInput"
            class="input"
            type="text"
            inputmode="text"
            placeholder="Scrivi la tua risposta e premi Invio…"
            aria-label="Risposta dell'utente"
            required
          />
          <button id="speakBtn" class="speak" type="button" aria-label="Parla">
            <svg class="mic-icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 14a3 3 0 0 0 3-3V6a3 3 0 0 0-6 0v5a3 3 0 0 0 3 3zm5-3a5 5 0 0 1-10 0H5a7 7 0 0 0 14 0h-2zm-5 8v-3h-2v3h2z"/>
            </svg>
            <span class="speak-label">Parla</span>
          </button>
          <button id="sendBtn" class="send" type="submit" aria-label="Invia">Invia</button>
        </form>
      </footer>
    </div>

    <script src="app.js"></script>
  </body>
</html>